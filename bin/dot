#!/bin/zsh
#
# dot
#
# `dot` handles installation, updates, things like that. Run it periodically
# to make sure you're on the latest and greatest.
export ZSH=$HOME/.dotfiles

function git_update {
	pull=$(git pull)
	if [[ $pull != 'Current branch master is up to date.' ]]
		then git lg ORIG_HEAD..
	fi
}

export PATH=/usr/local/bin:$PATH

# Upgrade homebrew
brew update

# Upgrade tools
echo "\033[0;34mUpgrading jEnv...\033[0m"
(cd ~/.jenv && git_update)
echo "\033[0;34mUpgrading antigen...\033[0m"
source "$HOME/.dotfiles/zsh/antigen.zsh"
antigen selfupdate
antigen update

# show brew outdated packages
echo "\033[0;34mOutdated brew packages: \033[0m"
brew outdated
echo "\033[0;34mOutdated cask packages: \033[0m"
brew cask outdated

# show apple update
softwareupdate -l
